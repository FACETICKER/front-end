{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\imzza\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\Faceticker\\\\Total2\\\\front-end\\\\src\\\\QnA\\\\host_input\\\\Choice_Modal.js\",\n  _s = $RefreshSig$();\nimport styles3 from './QnApage_3.module.css';\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport AnswerSlice from '../Slice/AnswerSlice';\nimport questionSlice from '../Slice/questionSlice';\nimport ChoiceSlice from '../Slice/ChoiceSlice';\nimport AnsEditSlice from '../Slice/AnsEditSlice';\nimport Modal from 'react-modal';\nimport OpencheckSlice from '../Slice/OpencheckSlice';\nimport Basic_questionSlice from '../Slice/Basic_questionSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Choice_Modal(props) {\n  _s();\n  const dispatch = useDispatch();\n  const onclick = () => {\n    if (props.edit) {\n      dispatch(AnsEditSlice.actions.edit());\n      dispatch(ChoiceSlice.actions.change());\n      {\n        open ? dispatch(OpencheckSlice.actions.open()) : dispatch(OpencheckSlice.actions.close());\n      } // 답변 수정\n      setview(false);\n    } else {\n      dispatch(AnsEditSlice.actions.new());\n      dispatch(ChoiceSlice.actions.change());\n      dispatch(OpencheckSlice.actions.open()); // 질문에 대한 답변이 하나도 없을 때 신규 작성\n      setview(false);\n    }\n  };\n  const ques = useSelector(state => {\n    return state.question;\n  });\n  const position = useSelector(state => {\n    return state.modalposition;\n  });\n  const [view, setview] = useState(true);\n  const ID = ques.filter(obj => obj.clicked === true).map(obj => obj.id)[0];\n  const open = ques.filter(obj => obj.clicked === true).map(obj => obj.open)[0];\n  const del = () => {\n    dispatch(AnswerSlice.actions.remove(ID));\n    const type = ques.filter(obj => obj.id === ID).map(obj => obj.type)[0];\n    if (type === 'basic_question') {\n      const text = ques.filter(obj => obj.id === ID).map(obj => obj.text)[0];\n      dispatch(Basic_questionSlice.actions.add(text));\n    } // 기본 질문 삭제 시 기본 질문 리스트에 다시 추가\n\n    dispatch(questionSlice.actions.remove(ID));\n  };\n  const modalStyle = {\n    overlay: {\n      backgroundColor: 'rgba(0, 0, 0, 0.5)',\n      zIndex: 1000 // z-index 값\n    },\n\n    content: {\n      zIndex: 1001,\n      width: '170px',\n      height: '90px',\n      border: '2px solid rgba(245, 245, 245, 1)',\n      padding: '0px',\n      margin: '0px',\n      boxShadow: '0px 2px 10px 0px rgba(0, 0, 0, 0.1)',\n      position: 'absolute',\n      top: position.top,\n      left: position.left\n    }\n  };\n  const handleOverlayClick = () => {\n    closeModal();\n  };\n  const closeModal = () => {\n    dispatch(questionSlice.actions.off()); // 클릭 상태 전부 off\n    dispatch(AnswerSlice.actions.off());\n    setview(false);\n  };\n  useEffect(() => {\n    const count = ques.filter(obj => obj.clicked === true).length;\n    {\n      count > 1 ? setview(false) : setview(true);\n    }\n    ; // 2개 이상 버튼 눌릴 경우 다 꺼버림\n    {\n      count > 1 && dispatch(questionSlice.actions.off());\n    }\n    ; // 2개 이상 버튼 눌릴 경우 다 꺼버림\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    isOpen: view,\n    style: modalStyle,\n    ariaHideApp: false,\n    onOverlayClick: handleOverlayClick,\n    onRequestClose: closeModal,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles3.choiceBackground,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles3.ctn,\n        onClick: onclick,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles3.pencil_p,\n          children: \"\\uB2F5\\uC7A5\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles3.pencil\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles3.ctn,\n        onClick: del,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles3.trash_p,\n          children: \"\\uC0AD\\uC81C\\uD558\\uAE30\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles3.trash\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n}\n_s(Choice_Modal, \"wqwMp4VD/KaAEDiMZtYU4DShEGM=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n_c = Choice_Modal;\n;\nexport default Choice_Modal;\nvar _c;\n$RefreshReg$(_c, \"Choice_Modal\");","map":{"version":3,"names":["styles3","React","useState","useEffect","useDispatch","useSelector","AnswerSlice","questionSlice","ChoiceSlice","AnsEditSlice","Modal","OpencheckSlice","Basic_questionSlice","jsxDEV","_jsxDEV","Choice_Modal","props","_s","dispatch","onclick","edit","actions","change","open","close","setview","new","ques","state","question","position","modalposition","view","ID","filter","obj","clicked","map","id","del","remove","type","text","add","modalStyle","overlay","backgroundColor","zIndex","content","width","height","border","padding","margin","boxShadow","top","left","handleOverlayClick","closeModal","off","count","length","isOpen","style","ariaHideApp","onOverlayClick","onRequestClose","children","className","choiceBackground","ctn","onClick","pencil_p","fileName","_jsxFileName","lineNumber","columnNumber","pencil","trash_p","trash","_c","$RefreshReg$"],"sources":["C:/Users/imzza/OneDrive/바탕 화면/Faceticker/Total2/front-end/src/QnA/host_input/Choice_Modal.js"],"sourcesContent":["import styles3 from './QnApage_3.module.css';\r\nimport React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport AnswerSlice from '../Slice/AnswerSlice';\r\nimport questionSlice from '../Slice/questionSlice';\r\nimport ChoiceSlice from '../Slice/ChoiceSlice';\r\nimport AnsEditSlice from '../Slice/AnsEditSlice';\r\nimport Modal from 'react-modal';\r\nimport OpencheckSlice from '../Slice/OpencheckSlice';\r\nimport Basic_questionSlice from '../Slice/Basic_questionSlice';\r\n\r\n\r\nfunction Choice_Modal(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onclick = () => {\r\n        if (props.edit) {\r\n            dispatch(AnsEditSlice.actions.edit());\r\n            dispatch(ChoiceSlice.actions.change());\r\n            {open ? dispatch(OpencheckSlice.actions.open()) : dispatch(OpencheckSlice.actions.close())} // 답변 수정\r\n            setview(false);\r\n        } else {\r\n            dispatch(AnsEditSlice.actions.new());\r\n            dispatch(ChoiceSlice.actions.change());\r\n            dispatch(OpencheckSlice.actions.open()); // 질문에 대한 답변이 하나도 없을 때 신규 작성\r\n            setview(false);\r\n        }\r\n    }\r\n\r\n    const ques = useSelector(state=>{\r\n        return state.question;\r\n    });\r\n\r\n    const position = useSelector(state=>{\r\n        return state.modalposition;\r\n    });\r\n\r\n    const [view, setview] = useState(true);\r\n\r\n    const ID = ques.filter(obj => obj.clicked === true).map(obj => obj.id)[0];\r\n\r\n    const open = ques.filter(obj => obj.clicked === true).map(obj => obj.open)[0];\r\n\r\n    const del = () => {\r\n        dispatch(AnswerSlice.actions.remove(ID));\r\n        \r\n        const type = ques.filter(obj => obj.id === ID).map(obj => obj.type)[0];\r\n        if (type === 'basic_question') {\r\n            const text = ques.filter(obj => obj.id === ID).map(obj => obj.text)[0];\r\n            dispatch(Basic_questionSlice.actions.add(text));\r\n        } // 기본 질문 삭제 시 기본 질문 리스트에 다시 추가\r\n\r\n        dispatch(questionSlice.actions.remove(ID));\r\n    }\r\n\r\n    const modalStyle = {\r\n        overlay: {\r\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n            zIndex: 1000, // z-index 값\r\n        },\r\n        content: {\r\n            zIndex: 1001,\r\n            width: '170px',\r\n            height: '90px',\r\n            border: '2px solid rgba(245, 245, 245, 1)',\r\n            padding: '0px',\r\n            margin: '0px',\r\n            boxShadow: '0px 2px 10px 0px rgba(0, 0, 0, 0.1)',\r\n            position: 'absolute',\r\n            top: position.top,\r\n            left: position.left\r\n        }\r\n    };\r\n\r\n    const handleOverlayClick = () => {\r\n        closeModal();\r\n    };\r\n\r\n    const closeModal = () => {\r\n        dispatch(questionSlice.actions.off()); // 클릭 상태 전부 off\r\n        dispatch(AnswerSlice.actions.off());\r\n        setview(false);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const count = ques.filter(obj => obj.clicked === true).length;\r\n        {count > 1 ? setview(false) : setview(true)}; // 2개 이상 버튼 눌릴 경우 다 꺼버림\r\n        {count > 1 && (dispatch(questionSlice.actions.off()))}; // 2개 이상 버튼 눌릴 경우 다 꺼버림\r\n    }, []);\r\n\r\n    return (\r\n        <Modal isOpen={view} style={modalStyle} ariaHideApp={false} onOverlayClick={handleOverlayClick} onRequestClose={closeModal}>\r\n            <div className={styles3.choiceBackground}>\r\n                <div className={styles3.ctn} onClick={onclick}>\r\n                    <p className={styles3.pencil_p}>답장하기</p>\r\n                    <span className={styles3.pencil}></span>\r\n                </div>\r\n                <div className={styles3.ctn} onClick={del}>\r\n                    <p className={styles3.trash_p}>삭제하기</p>\r\n                    <span className={styles3.trash}></span>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nexport default Choice_Modal;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}